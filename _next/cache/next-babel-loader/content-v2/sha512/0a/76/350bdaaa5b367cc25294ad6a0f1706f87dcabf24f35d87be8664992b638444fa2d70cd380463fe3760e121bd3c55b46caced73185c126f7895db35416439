{"ast":null,"code":"var __jsx = React.createElement;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport React, { useContext, useState, useRef, useEffect } from 'react';\nimport { Container, Row, Col, Media } from 'reactstrap';\nimport Slider from 'react-slick';\nimport gql from 'graphql-tag';\nimport { useQuery } from '@apollo/react-hooks';\nimport CartContext from '../../../helpers/cart';\nimport ImageZoom from '../common/image-zoom';\nimport shoes from '../../../public/assets/images/fashion/pro/shoes.jpg';\nimport skirt from '../../../public/assets/images/fashion/pro/skirt.jpg';\nimport one from '../../../public/assets/images/fashion/pro/001.jpg';\nimport SwatchDetailsWithPrice from '../common/swatch-detail-price';\nimport { CurrencyContext } from '../../../helpers/Currency/CurrencyContext';\nconst GET_SINGLE_PRODUCTS = gql`\n    query product ($id:Int!) {\n        product (id:$id) {\n            id\n            title\n            description\n            type\n            brand\n            category \n            price\n            new\n            sale\n            discount\n            stock\n            variants\n            {\n                id\n                color\n                image_id\n                variant_id\n                size\n            }\n            images\n            {\n                image_id\n                src\n            }\n        }\n    }\n`;\n\nconst ImageSwatchPage = () => {\n  const context = useContext(CartContext);\n  const addToCart = context.addToCart;\n  const curContext = useContext(CurrencyContext);\n  const symbol = curContext.state.symbol;\n  const {\n    0: state,\n    1: setState\n  } = useState({\n    nav1: null,\n    nav2: null\n  });\n  const slider1 = useRef();\n  const slider2 = useRef();\n  var {\n    loading,\n    data\n  } = useQuery(GET_SINGLE_PRODUCTS, {\n    variables: {\n      id: 1\n    }\n  });\n  var products = {\n    slidesToShow: 1,\n    slidesToScroll: 1,\n    dots: false,\n    arrows: true,\n    fade: true\n  };\n  var productsnav = {\n    slidesToShow: 3,\n    swipeToSlide: true,\n    arrows: false,\n    dots: false,\n    focusOnSelect: true\n  };\n\n  const filterClick = () => {\n    document.getElementById(\"filter\").style.left = \"-15px\";\n  };\n\n  const changeColorVar = img_id => {\n    slider2.current.slickGoTo(img_id);\n  };\n\n  useEffect(() => {\n    setState({\n      nav1: slider1.current,\n      nav2: slider2.current\n    });\n  }, [data]);\n\n  const addToCartUnsafe = product => {\n    toast.success(\"Item Added to Compare\");\n    dispatch({\n      type: 'ADD_TO_COMPARE',\n      payload: product\n    });\n  };\n\n  const {\n    nav1,\n    nav2\n  } = state;\n  return __jsx(\"section\", {\n    className: \"section-b-space\"\n  }, __jsx(\"div\", {\n    className: \"collection-wrapper\"\n  }, __jsx(Container, null, !data || !data.product || data.product.length === 0 || loading ? 'loading' : __jsx(Row, {\n    className: \"leftImage\"\n  }, __jsx(Col, {\n    lg: \"6\"\n  }, __jsx(Slider, _extends({}, products, {\n    asNavFor: nav2,\n    ref: slider => slider1.current = slider,\n    className: \"product-right-slick\"\n  }), data.product.variants ? data.product.images.map((vari, index) => __jsx(\"div\", {\n    key: index\n  }, __jsx(ImageZoom, {\n    image: vari\n  }))) : data.product.images.map((vari, index) => __jsx(\"div\", {\n    key: index\n  }, __jsx(ImageZoom, {\n    image: vari\n  })))), __jsx(Row, null, __jsx(Col, {\n    sm: \"12\"\n  }, __jsx(Slider, _extends({\n    className: \"slider-nav\"\n  }, productsnav, {\n    asNavFor: nav1,\n    ref: slider => slider2.current = slider\n  }), data.product.variants ? data.product.images.map((vari, index) => __jsx(\"div\", {\n    key: index\n  }, __jsx(Media, {\n    src: `${vari.src}`,\n    key: index,\n    alt: vari.alt,\n    className: \"img-fluid\"\n  }))) : '')))), __jsx(Col, {\n    lg: \"6\",\n    className: \"rtl-text\"\n  }, __jsx(SwatchDetailsWithPrice, {\n    symbol: symbol,\n    changeColorVar: changeColorVar,\n    item: data.product,\n    navOne: state.nav1,\n    addToCartClicked: addToCart,\n    BuynowClicked: addToCartUnsafe\n  }), __jsx(\"div\", {\n    className: \"border-product\"\n  }, __jsx(\"h6\", {\n    className: \"product-title\"\n  }, \"Frequently bought together\"), __jsx(\"div\", {\n    className: \"bundle\"\n  }, __jsx(\"div\", {\n    className: \"bundle_img\"\n  }, __jsx(\"div\", {\n    className: \"img-box\"\n  }, __jsx(\"a\", {\n    href: \"#\"\n  }, __jsx(Media, {\n    src: one,\n    alt: \"\",\n    className: \"img-fluid blur-up lazyload\"\n  }))), __jsx(\"span\", {\n    className: \"plus\"\n  }, \"+\"), __jsx(\"div\", {\n    className: \"img-box\"\n  }, __jsx(\"a\", {\n    href: \"#\"\n  }, __jsx(Media, {\n    src: skirt,\n    alt: \"\",\n    className: \"img-fluid blur-up lazyload\"\n  }))), __jsx(\"span\", {\n    className: \"plus\"\n  }, \"+\"), __jsx(\"div\", {\n    className: \"img-box\"\n  }, __jsx(\"a\", {\n    href: \"#\"\n  }, __jsx(Media, {\n    src: shoes,\n    alt: \"\",\n    className: \"img-fluid blur-up lazyload\"\n  })))), __jsx(\"div\", {\n    className: \"bundle_detail\"\n  }, __jsx(\"div\", {\n    className: \"theme_checkbox\"\n  }, __jsx(\"label\", null, \"this product: WOMEN PINK SHIRT \", __jsx(\"span\", {\n    className: \"price_product\"\n  }, \"$55\"), __jsx(\"input\", {\n    type: \"checkbox\",\n    defaultChecked: true\n  }), __jsx(\"span\", {\n    className: \"checkmark\"\n  })), __jsx(\"label\", null, \"black long skirt \", __jsx(\"span\", {\n    className: \"price_product\"\n  }, \"$20\"), __jsx(\"input\", {\n    type: \"checkbox\",\n    defaultChecked: true\n  }), __jsx(\"span\", {\n    className: \"checkmark\"\n  })), __jsx(\"label\", null, \"women heeled boots \", __jsx(\"span\", {\n    className: \"price_product\"\n  }, \"$15\"), __jsx(\"input\", {\n    type: \"checkbox\",\n    defaultChecked: true\n  }), __jsx(\"span\", {\n    className: \"checkmark\"\n  })), __jsx(\"a\", {\n    href: \"#\",\n    className: \"btn btn-solid btn-xs\"\n  }, \"buy this bundle\"))))))))));\n};\n\nexport default ImageSwatchPage;","map":null,"metadata":{},"sourceType":"module"}