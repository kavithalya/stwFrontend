{"ast":null,"code":"import _regeneratorRuntime from \"C:/Mani/Office/Projects/Shoptheworld/STWCommerceFrontEnd/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"C:/Mani/Office/Projects/Shoptheworld/STWCommerceFrontEnd/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nvar __jsx = React.createElement;\nimport React, { useState, useEffect } from 'react';\nimport CommonLayout from '../../../../components/shop/common-layout';\nimport { Container, Row, Form, Label, Input, Col } from 'reactstrap';\nimport firebase, { googleProvider, facebookProvider } from '../../../../config/base';\nimport { toast } from 'react-toastify';\nimport { useRouter } from 'next/router';\n\nvar Login = function Login() {\n  var router = useRouter();\n\n  var _useState = useState(\"test@gmail.com\"),\n      email = _useState[0],\n      setEmail = _useState[1];\n\n  var _useState2 = useState(\"test@123\"),\n      password = _useState2[0],\n      setPassword = _useState2[1];\n\n  var _useState3 = useState(localStorage.getItem('Name')),\n      name = _useState3[0],\n      setName = _useState3[1];\n\n  useEffect(function () {\n    localStorage.setItem('Name', name);\n  }, [name]);\n\n  var loginAuth = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(email, password) {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              _context.next = 3;\n              return firebase.auth().signInWithEmailAndPassword(email, password).then(function () {\n                setName(\"Emay Walter\");\n                setTimeout(function () {\n                  router.push(\"/page/account/checkout\");\n                }, 200);\n              });\n\n            case 3:\n              _context.next = 8;\n              break;\n\n            case 5:\n              _context.prev = 5;\n              _context.t0 = _context[\"catch\"](0);\n              setTimeout(function () {\n                toast.error(\"error\", _context.t0);\n              }, 200);\n\n            case 8:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[0, 5]]);\n    }));\n\n    return function loginAuth(_x, _x2) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  var googleAuth = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              try {\n                firebase.auth().signInWithPopup(googleProvider).then(function (result) {\n                  setName(result.user.displayName);\n                  setTimeout(function () {\n                    router.push(\"/page/account/checkout\");\n                  }, 200);\n                });\n              } catch (error) {\n                setTimeout(function () {\n                  toast.error(\"Oppss.. The password is invalid or the user does not have a password.\");\n                }, 200);\n              }\n\n            case 1:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function googleAuth() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  var facebookAuth = /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3() {\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              try {\n                firebase.auth().signInWithPopup(facebookProvider).then(function (result) {\n                  setName(result.user.displayName);\n                  setTimeout(function () {\n                    router.push(\"/page/account/checkout\");\n                  }, 200);\n                });\n              } catch (error) {\n                setTimeout(function () {\n                  toast.error(\"Oppss.. The password is invalid or the user does not have a password.\");\n                }, 200);\n              }\n\n            case 1:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    }));\n\n    return function facebookAuth() {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n\n  return __jsx(CommonLayout, {\n    parent: \"home\",\n    title: \"login\"\n  }, __jsx(\"section\", {\n    className: \"login-page section-b-space\"\n  }, __jsx(Container, null, __jsx(Row, null, __jsx(Col, {\n    lg: \"6\"\n  }, __jsx(\"h3\", null, \"Login\"), __jsx(\"div\", {\n    className: \"theme-card\"\n  }, __jsx(Form, {\n    className: \"theme-form\"\n  }, __jsx(\"div\", {\n    className: \"form-group\"\n  }, __jsx(Label, {\n    \"for\": \"email\"\n  }, \"Email\"), __jsx(Input, {\n    type: \"text\",\n    defaultValue: email,\n    onChange: function onChange(e) {\n      return setEmail(e.target.value);\n    },\n    className: \"form-control\",\n    placeholder: \"Email\",\n    required: \"\"\n  })), __jsx(\"div\", {\n    className: \"form-group\"\n  }, __jsx(Label, {\n    \"for\": \"review\"\n  }, \"Password\"), __jsx(Input, {\n    type: \"password\",\n    defaultValue: password,\n    onChange: function onChange(e) {\n      return setPassword(e.target.value);\n    },\n    className: \"form-control\",\n    id: \"review\",\n    placeholder: \"Enter your password\",\n    required: \"\"\n  })), __jsx(\"a\", {\n    href: \"#\",\n    className: \"btn btn-solid\",\n    onClick: function onClick() {\n      return loginAuth(email, password);\n    }\n  }, \"Login\"), __jsx(\"div\", {\n    className: \"footer-social\"\n  }, __jsx(\"ul\", null, __jsx(\"li\", {\n    onClick: facebookAuth\n  }, __jsx(\"i\", {\n    className: \"fa fa-facebook\",\n    \"aria-hidden\": \"true\"\n  })), __jsx(\"li\", {\n    onClick: googleAuth\n  }, __jsx(\"a\", null, __jsx(\"i\", {\n    className: \"fa fa-google-plus\",\n    \"aria-hidden\": \"true\"\n  })))))))), __jsx(Col, {\n    lg: \"6\",\n    className: \"right-login\"\n  }, __jsx(\"h3\", null, \"New Customer\"), __jsx(\"div\", {\n    className: \"theme-card authentication-right\"\n  }, __jsx(\"h6\", {\n    className: \"title-font\"\n  }, \"Create A Account\"), __jsx(\"p\", null, \"Sign up for a free account at our store. Registration is quick and easy. It allows you to be able to order from our shop. To start shopping click register.\"), __jsx(\"a\", {\n    href: \"#\",\n    className: \"btn btn-solid\"\n  }, \"Create an Account\")))))));\n};\n\nexport default Login;","map":null,"metadata":{},"sourceType":"module"}