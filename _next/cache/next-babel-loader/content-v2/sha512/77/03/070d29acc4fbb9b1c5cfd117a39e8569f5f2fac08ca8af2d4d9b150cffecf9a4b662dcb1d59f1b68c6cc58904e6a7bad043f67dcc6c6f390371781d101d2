{"ast":null,"code":"import _toConsumableArray from \"C:/Mani/Office/Projects/Shoptheworld/STWCommerceFrontEnd/node_modules/next/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nvar __jsx = React.createElement;\nimport React, { createContext, useState, useEffect } from 'react';\nimport { toast } from 'react-toastify';\nexport var Context = /*#__PURE__*/createContext({\n  wishlistItems: Function,\n  addToWish: Function,\n  removeFromWish: Function\n});\n\nvar getLocalWishlistItems = function getLocalWishlistItems() {\n  try {\n    var list = localStorage.getItem('wishlist');\n\n    if (list === null) {\n      return [];\n    } else {\n      return JSON.parse(list);\n    }\n  } catch (err) {\n    return [];\n  }\n};\n\nexport var Provider = function Provider(props) {\n  var _useState = useState(getLocalWishlistItems()),\n      wishlistItems = _useState[0],\n      setWishlistItems = _useState[1];\n\n  useEffect(function () {\n    localStorage.setItem('wishlist', JSON.stringify(wishlistItems));\n  }, [wishlistItems]); // Add Product To Wishlist\n\n  var addToWish = function addToWish(item) {\n    var index = wishlistItems.findIndex(function (wish) {\n      return wish.id === item.id;\n    });\n\n    if (index === -1) {\n      toast.success(\"Product Added Successfully !\");\n      setWishlistItems([].concat(_toConsumableArray(wishlistItems), [item]));\n    } else {\n      toast.error(\"This Product Already Added !\");\n    }\n  }; // Remove Product From Wishlist\n\n\n  var removeFromWish = function removeFromWish(item) {\n    setWishlistItems(wishlistItems.filter(function (e) {\n      return e.id !== item.id;\n    }));\n    toast.error(\"Product Removed Successfully !\");\n  };\n\n  var value = props.value;\n  return __jsx(Context.Provider, {\n    value: {\n      wishlistItems: wishlistItems,\n      addToWish: addToWish,\n      removeFromWish: removeFromWish\n    }\n  }, props.children);\n};\nexport { Context as WishlistContext, Provider as WishlistContextProvider } from \"./WishlistContext\";","map":null,"metadata":{},"sourceType":"module"}